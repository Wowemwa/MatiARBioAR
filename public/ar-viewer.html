<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AR Viewer ‚Ä¢ Mati Biodiversity</title>
  <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
      color: white;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    h1 {
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 1rem;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }

    .subtitle {
      text-align: center;
      font-size: 1.1rem;
      margin-bottom: 2rem;
      opacity: 0.9;
    }

    .species-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }

    .species-card {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 20px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .species-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

    .species-title {
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .species-name {
      font-style: italic;
      opacity: 0.8;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .species-description {
      font-size: 0.95rem;
      line-height: 1.6;
      opacity: 0.9;
      margin-bottom: 1rem;
    }

    model-viewer {
      width: 100%;
      height: 400px;
      border-radius: 15px;
      background: rgba(0, 0, 0, 0.2);
      margin: 15px 0;
    }

    .ar-button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 25px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      width: 100%;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .ar-button:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    }

    .info-badge {
      display: inline-block;
      background: rgba(255, 255, 255, 0.2);
      padding: 5px 12px;
      border-radius: 12px;
      font-size: 0.8rem;
      margin-top: 10px;
    }

    .instructions {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 15px;
      padding: 20px;
      margin-bottom: 30px;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .instructions h2 {
      margin-bottom: 15px;
      font-size: 1.3rem;
    }

    .instructions ol {
      margin-left: 20px;
      line-height: 1.8;
    }

    .instructions li {
      margin-bottom: 8px;
    }

    @media (max-width: 768px) {
      h1 {
        font-size: 2rem;
      }
      
      .species-grid {
        grid-template-columns: 1fr;
      }
      
      model-viewer {
        height: 300px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ü¶ã Mati Biodiversity AR Experience</h1>
    <p class="subtitle">Explore Mati City's amazing species in augmented reality</p>

    <div class="instructions">
      <h2>üì± How to Use AR Mode</h2>
      <ol>
        <li><strong>On mobile devices:</strong> Tap the "View in AR" button on any model card</li>
        <li><strong>Allow camera access</strong> when prompted by your browser</li>
        <li><strong>Point your device</strong> at a flat surface (floor, table, ground)</li>
        <li><strong>Tap to place</strong> the 3D model in your real environment</li>
        <li><strong>Walk around</strong> the model to see it from different angles</li>
        <li><strong>Pinch to scale</strong> or rotate the model with your fingers</li>
      </ol>
      <p style="margin-top: 15px; opacity: 0.8;">
        <strong>Note:</strong> AR mode works best on iOS 12+ (Safari/Chrome) and Android 8+ (Chrome). 
        On desktop, you can still interact with 3D models by dragging them!
      </p>
    </div>

    <div class="species-grid">
      <!-- Philippine Eagle -->
      <div class="species-card">
        <div class="species-title">
          ü¶Ö Philippine Eagle
        </div>
        <div class="species-name">Pithecophaga jefferyi</div>
        <model-viewer
          src="https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/Fox/glTF-Binary/Fox.glb"
          alt="Philippine Eagle 3D Model"
          ar
          ar-modes="webxr scene-viewer quick-look"
          camera-controls
          touch-action="pan-y"
          auto-rotate
          shadow-intensity="1"
          environment-image="neutral"
          exposure="1"
        >
          <button slot="ar-button" class="ar-button">
            üëÅÔ∏è View in AR
          </button>
        </model-viewer>
        <div class="species-description">
          The Philippine Eagle is one of the rarest and most powerful birds in the world. 
          Found in Mindanao's forests, this majestic raptor is a national symbol of conservation.
        </div>
        <span class="info-badge">üî¥ Critically Endangered</span>
      </div>

      <!-- Tarsier -->
      <div class="species-card">
        <div class="species-title">
          üëÄ Philippine Tarsier
        </div>
        <div class="species-name">Carlito syrichta</div>
        <model-viewer
          src="https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/Duck/glTF-Binary/Duck.glb"
          alt="Philippine Tarsier 3D Model"
          ar
          ar-modes="webxr scene-viewer quick-look"
          camera-controls
          touch-action="pan-y"
          auto-rotate
          shadow-intensity="1"
          environment-image="neutral"
          exposure="1"
        >
          <button slot="ar-button" class="ar-button">
            üëÅÔ∏è View in AR
          </button>
        </model-viewer>
        <div class="species-description">
          One of the world's smallest primates, the Philippine Tarsier has enormous eyes adapted for nocturnal hunting. 
          These gentle creatures are endemic to the Philippines.
        </div>
        <span class="info-badge">üü° Near Threatened</span>
      </div>

      <!-- Butterfly -->
      <div class="species-card">
        <div class="species-title">
          ü¶ã Mati Blue Butterfly
        </div>
        <div class="species-name">Graphium sarpedon</div>
        <model-viewer
          src="https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/CesiumMilkTruck/glTF-Binary/CesiumMilkTruck.glb"
          alt="Mati Blue Butterfly 3D Model"
          ar
          ar-modes="webxr scene-viewer quick-look"
          camera-controls
          touch-action="pan-y"
          auto-rotate
          shadow-intensity="1"
          environment-image="neutral"
          exposure="1"
        >
          <button slot="ar-button" class="ar-button">
            üëÅÔ∏è View in AR
          </button>
        </model-viewer>
        <div class="species-description">
          The Common Bluebottle butterfly is abundant in Mati City's forests. 
          Its striking blue-green wings make it one of the most beautiful butterflies in the region.
        </div>
        <span class="info-badge">üü¢ Common</span>
      </div>

      <!-- Mangrove Tree -->
      <div class="species-card">
        <div class="species-title">
          üå≥ Red Mangrove
        </div>
        <div class="species-name">Rhizophora mangle</div>
        <model-viewer
          src="https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/BrainStem/glTF-Binary/BrainStem.glb"
          alt="Red Mangrove 3D Model"
          ar
          ar-modes="webxr scene-viewer quick-look"
          camera-controls
          touch-action="pan-y"
          auto-rotate
          shadow-intensity="1"
          environment-image="neutral"
          exposure="1"
        >
          <button slot="ar-button" class="ar-button">
            üëÅÔ∏è View in AR
          </button>
        </model-viewer>
        <div class="species-description">
          Mangroves are vital coastal ecosystems that protect shorelines from erosion and provide 
          nursery habitats for marine life. Mati's mangrove forests are essential for biodiversity.
        </div>
        <span class="info-badge">üü¢ Ecologically Important</span>
      </div>

      <!-- Coral Formation -->
      <div class="species-card">
        <div class="species-title">
          ü™∏ Staghorn Coral
        </div>
        <div class="species-name">Acropora cervicornis</div>
        <model-viewer
          src="https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/Avocado/glTF-Binary/Avocado.glb"
          alt="Staghorn Coral 3D Model"
          ar
          ar-modes="webxr scene-viewer quick-look"
          camera-controls
          touch-action="pan-y"
          auto-rotate
          shadow-intensity="1"
          environment-image="neutral"
          exposure="1"
        >
          <button slot="ar-button" class="ar-button">
            üëÅÔ∏è View in AR
          </button>
        </model-viewer>
        <div class="species-description">
          Staghorn coral is a fast-growing reef-building coral found in Mati's coastal waters. 
          These corals create complex structures that support diverse marine ecosystems.
        </div>
        <span class="info-badge">üî¥ Threatened</span>
      </div>

      <!-- Coconut Tree -->
      <div class="species-card">
        <div class="species-title">
          ü•• Coconut Palm
        </div>
        <div class="species-name">Cocos nucifera</div>
        <model-viewer
          src="https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/DamagedHelmet/glTF-Binary/DamagedHelmet.glb"
          alt="Coconut Palm 3D Model"
          ar
          ar-modes="webxr scene-viewer quick-look"
          camera-controls
          touch-action="pan-y"
          auto-rotate
          shadow-intensity="1"
          environment-image="neutral"
          exposure="1"
        >
          <button slot="ar-button" class="ar-button">
            üëÅÔ∏è View in AR
          </button>
        </model-viewer>
        <div class="species-description">
          The coconut palm is iconic to Mati City and provides food, shelter, and economic value. 
          These versatile trees thrive in tropical coastal environments.
        </div>
        <span class="info-badge">üü¢ Abundant</span>
      </div>
    </div>

    <div class="instructions" style="margin-top: 30px;">
      <h2>üî¨ About These Models</h2>
      <p>
        These 3D models are sample representations to demonstrate AR capabilities. 
        In the full version, we'll feature photorealistic models of actual Mati City species 
        created from photogrammetry scans and 3D modeling by local researchers.
      </p>
      <p style="margin-top: 10px;">
        <strong>Technology:</strong> Powered by Google's model-viewer web component, 
        supporting WebXR for AR experiences across iOS and Android devices.
      </p>
    </div>
  </div>

  <script>
    // Add loading indicators
    const modelViewers = document.querySelectorAll('model-viewer');
    
    modelViewers.forEach(viewer => {
      viewer.addEventListener('load', () => {
        console.log('Model loaded successfully');
      });
      
      viewer.addEventListener('error', (event) => {
        console.error('Error loading model:', event);
      });
    });

    // Log AR support
    if ('xr' in navigator) {
      navigator.xr.isSessionSupported('immersive-ar').then((supported) => {
        if (supported) {
          console.log('‚úÖ WebXR AR is supported on this device!');
        } else {
          console.log('‚ÑπÔ∏è WebXR AR not available, but Quick Look/Scene Viewer may work');
        }
      });
    }
  </script>
</body>
</html>
